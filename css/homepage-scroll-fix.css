/* ============================================================
   HOMEPAGE-SCROLL-FIX.CSS
   Startseite: Kein Scroll (100vh fest)
   Flip Card geöffnet: Scroll erlaubt
   ============================================================ */

/* ===================
   1. STARTSEITE - KEIN SCROLL
   Body bekommt overflow:hidden wenn auf der Startseite
   =================== */

/* Wenn die Seite die Startseite ist (index.html mit #hero) */
body:has(#hero):has(.flip-container):not(:has(.flip-container.flipped)) {
    overflow: hidden !important;
    height: 100vh !important;
}

/* Alternative falls :has nicht überall funktioniert - 
   Klasse die per JS gesetzt wird */
body.homepage-no-scroll {
    overflow: hidden !important;
    height: 100vh !important;
}

/* ===================
   2. FLIP CARD GEÖFFNET - SCROLL ERLAUBEN
   =================== */

/* Wenn Flip Card geflippt ist, Scroll erlauben */
body:has(.flip-container.flipped) {
    overflow-y: auto !important;
    height: auto !important;
}

/* Alternative mit Klasse */
body.homepage-scroll-enabled {
    overflow-y: auto !important;
    height: auto !important;
}

/* ===================
   3. HERO SECTION - FESTE HÖHE
   =================== */

/* Standard Hero - volle Bildschirmhöhe ohne Overflow */
#hero:not(:has(.flip-container.flipped)) {
    height: 100vh !important;
    max-height: 100vh !important;
    overflow: hidden !important;
}

/* Hero mit geflippter Card - darf wachsen */
#hero:has(.flip-container.flipped) {
    height: auto !important;
    min-height: 100vh !important;
    overflow: visible !important;
}

/* ===================
   4. MOBILE ANPASSUNGEN
   =================== */

@media (max-width: 768px) {
    body:has(#hero):has(.flip-container):not(:has(.flip-container.flipped)) {
        overflow: hidden !important;
        height: 100vh !important;
        height: 100dvh !important; /* Dynamic viewport height für Mobile */
    }
    
    body.homepage-no-scroll {
        height: 100dvh !important;
    }
    
    #hero:not(:has(.flip-container.flipped)) {
        height: calc(100vh - var(--header-height-mobile)) !important;
        height: calc(100dvh - var(--header-height-mobile)) !important;
        max-height: none !important;
    }
}
